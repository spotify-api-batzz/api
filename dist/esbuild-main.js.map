{
  "version": 3,
  "sources": ["../src/db.ts", "../src/app.ts", "../src/models/albums.ts", "../src/models/artists.ts", "../src/models/recent_listen_data.ts", "../src/models/recent_listens.ts", "../src/models/songs.ts", "../src/models/thumbnails.ts", "../src/models/top_artist_data.ts", "../src/models/top_artists.ts", "../src/models/top_song_data.ts", "../src/models/top_songs.ts", "../src/models/users.ts", "../src/models/init-models.ts"],
  "sourcesContent": ["import { Sequelize, Model, DataTypes } from \"sequelize\";\n\nlet instance: Sequelize;\n\nconst ConnectToDB = (connstring: string) => {\n  if (!instance) {\n    instance = new Sequelize(connstring);\n  }\n};\n\nexport { ConnectToDB, instance };\n", "import { ConnectToDB, instance } from \"./db\";\nimport express, { query } from \"express\";\nimport { initModels } from \"models/init-models\";\nimport {\n  isNil,\n  omit,\n  pick,\n  pipe,\n  map,\n  reduce,\n  hasPath,\n  assoc,\n  assocPath,\n  unnest,\n} from \"ramda\";\nimport Joi from \"joi\";\n\nvar app = express();\n\nConnectToDB(\"postgres://test:123@192.168.0.27:5432/spotify\");\nlet models = initModels(instance);\n\nconst parseIncludes = (joinString: string) => {\n  if (!joinString) return {};\n  let joins = joinString.split(\",\");\n  if (joins.length === 0) return {};\n  let include = [];\n  joins.forEach((join) => {\n    let modelList = join.split(\".\");\n    let baseInclude = {};\n    if (modelList.length === 0) return \"\";\n    modelList.forEach((item, i) => {\n      baseInclude = assocPath(\n        new Array(i).fill(1).map((i) => \"include\"),\n        { model: models[modelList[i]] },\n        baseInclude\n      );\n    });\n    include.push(baseInclude);\n  });\n  return { include };\n};\n\nconst schema = Joi.object({\n  limit: Joi.number(),\n  offset: Joi.number(),\n  joins: Joi.array().items(Joi.string().valid(...Object.keys(models))),\n});\n\nObject.keys(models).forEach((key) => {\n  app.get(`/${key}`, async (req, res) => {\n    const joins = req.query.joins\n      ? unnest(\n          (req.query.joins as string).split(\",\").map((join) => join.split(\".\"))\n        )\n      : [];\n\n    console.log(joins);\n\n    const { error, warning } = schema.validate({\n      ...omit([\"joins\"], req.query),\n      joins,\n    });\n\n    if (error) {\n      res.send(error);\n      return;\n    }\n\n    console.log(parseIncludes(req.query.joins as string));\n\n    let items = await models[key].findAll({\n      ...pick([\"limit\", \"offset\"], req.query),\n      // hmm assertion\n      ...parseIncludes(req.query.joins as string),\n    });\n\n    res.send(items);\n  });\n});\n\napp.listen(3000, \"0.0.0.0\");\n", "import * as Sequelize from \"sequelize\";\nimport { DataTypes, Model, Optional } from \"sequelize\";\nimport { artists } from \"./init-models\";\n\nexport interface albumsAttributes {\n  id: string;\n  name?: string;\n  spotify_id?: string;\n  artist_id?: string;\n  created_at?: Date;\n  updated_at?: Date;\n}\n\nexport type albumsPk = \"id\";\nexport type albumsId = albums[albumsPk];\nexport type albumsCreationAttributes = Optional<albumsAttributes, albumsPk>;\n\nexport class albums\n  extends Model<albumsAttributes, albumsCreationAttributes>\n  implements albumsAttributes\n{\n  id!: string;\n  name?: string;\n  spotify_id?: string;\n  artist_id?: string;\n  created_at?: Date;\n  updated_at?: Date;\n\n  static initModel(sequelize: Sequelize.Sequelize): typeof albums {\n    albums.init(\n      {\n        id: {\n          type: DataTypes.TEXT,\n          allowNull: false,\n          primaryKey: true,\n        },\n        name: {\n          type: DataTypes.TEXT,\n          allowNull: true,\n        },\n        spotify_id: {\n          type: DataTypes.TEXT,\n          allowNull: true,\n        },\n        artist_id: {\n          type: DataTypes.TEXT,\n          allowNull: true,\n        },\n        created_at: {\n          type: DataTypes.DATE,\n          allowNull: true,\n        },\n        updated_at: {\n          type: DataTypes.DATE,\n          allowNull: true,\n        },\n      },\n      {\n        sequelize,\n        tableName: \"albums\",\n        schema: \"public\",\n        underscored: true,\n        timestamps: false,\n        indexes: [\n          {\n            name: \"albums_pkey\",\n            unique: true,\n            fields: [{ name: \"id\" }],\n          },\n        ],\n      }\n    );\n    return albums;\n  }\n}\n", "import * as Sequelize from \"sequelize\";\nimport { DataTypes, Model, Optional } from \"sequelize\";\n\nexport interface artistsAttributes {\n  id: string;\n  name?: string;\n  spotify_id?: string;\n  created_at?: Date;\n  updated_at?: Date;\n}\n\nexport type artistsPk = \"id\";\nexport type artistsId = artists[artistsPk];\nexport type artistsCreationAttributes = Optional<artistsAttributes, artistsPk>;\n\nexport class artists\n  extends Model<artistsAttributes, artistsCreationAttributes>\n  implements artistsAttributes\n{\n  id!: string;\n  name?: string;\n  spotify_id?: string;\n  created_at?: Date;\n  updated_at?: Date;\n\n  static initModel(sequelize: Sequelize.Sequelize): typeof artists {\n    artists.init(\n      {\n        id: {\n          type: DataTypes.TEXT,\n          allowNull: false,\n          primaryKey: true,\n        },\n        name: {\n          type: DataTypes.TEXT,\n          allowNull: true,\n        },\n        spotify_id: {\n          type: DataTypes.TEXT,\n          allowNull: true,\n        },\n        created_at: {\n          type: DataTypes.DATE,\n          allowNull: true,\n        },\n        updated_at: {\n          type: DataTypes.DATE,\n          allowNull: true,\n        },\n      },\n      {\n        sequelize,\n        tableName: \"artists\",\n        schema: \"public\",\n        underscored: true,\n        timestamps: false,\n        indexes: [\n          {\n            name: \"artists_pkey\",\n            unique: true,\n            fields: [{ name: \"id\" }],\n          },\n        ],\n      }\n    );\n    return artists;\n  }\n}\n", "import * as Sequelize from \"sequelize\";\nimport { DataTypes, Model, Optional } from \"sequelize\";\n\nexport interface recent_listen_dataAttributes {\n  id: string;\n  song_id?: string;\n  recent_listen_id?: string;\n  played_at?: Date;\n  created_at?: Date;\n  updated_at?: Date;\n}\n\nexport type recent_listen_dataPk = \"id\";\nexport type recent_listen_dataId = recent_listen_data[recent_listen_dataPk];\nexport type recent_listen_dataCreationAttributes = Optional<\n  recent_listen_dataAttributes,\n  recent_listen_dataPk\n>;\n\nexport class recent_listen_data\n  extends Model<\n    recent_listen_dataAttributes,\n    recent_listen_dataCreationAttributes\n  >\n  implements recent_listen_dataAttributes\n{\n  id!: string;\n  song_id?: string;\n  recent_listen_id?: string;\n  played_at?: Date;\n  created_at?: Date;\n  updated_at?: Date;\n\n  static initModel(sequelize: Sequelize.Sequelize): typeof recent_listen_data {\n    recent_listen_data.init(\n      {\n        id: {\n          type: DataTypes.TEXT,\n          allowNull: false,\n          primaryKey: true,\n        },\n        song_id: {\n          type: DataTypes.TEXT,\n          allowNull: true,\n        },\n        recent_listen_id: {\n          type: DataTypes.TEXT,\n          allowNull: true,\n        },\n        played_at: {\n          type: DataTypes.DATE,\n          allowNull: true,\n        },\n        created_at: {\n          type: DataTypes.DATE,\n          allowNull: true,\n        },\n        updated_at: {\n          type: DataTypes.DATE,\n          allowNull: true,\n        },\n      },\n      {\n        sequelize,\n        tableName: \"recent_listen_data\",\n        schema: \"public\",\n        underscored: true,\n        timestamps: false,\n        indexes: [\n          {\n            name: \"recent_listen_data_pkey\",\n            unique: true,\n            fields: [{ name: \"id\" }],\n          },\n        ],\n      }\n    );\n    return recent_listen_data;\n  }\n}\n", "import * as Sequelize from \"sequelize\";\nimport { DataTypes, Model, Optional } from \"sequelize\";\n\nexport interface recent_listensAttributes {\n  id: string;\n  user_id?: string;\n  created_at?: Date;\n  updated_at?: Date;\n}\n\nexport type recent_listensPk = \"id\";\nexport type recent_listensId = recent_listens[recent_listensPk];\nexport type recent_listensCreationAttributes = Optional<\n  recent_listensAttributes,\n  recent_listensPk\n>;\n\nexport class recent_listens\n  extends Model<recent_listensAttributes, recent_listensCreationAttributes>\n  implements recent_listensAttributes\n{\n  id!: string;\n  user_id?: string;\n  created_at?: Date;\n  updated_at?: Date;\n\n  static initModel(sequelize: Sequelize.Sequelize): typeof recent_listens {\n    recent_listens.init(\n      {\n        id: {\n          type: DataTypes.TEXT,\n          allowNull: false,\n          primaryKey: true,\n        },\n        user_id: {\n          type: DataTypes.TEXT,\n          allowNull: true,\n        },\n        created_at: {\n          type: DataTypes.DATE,\n          allowNull: true,\n        },\n        updated_at: {\n          type: DataTypes.DATE,\n          allowNull: true,\n        },\n      },\n      {\n        sequelize,\n        tableName: \"recent_listens\",\n        schema: \"public\",\n        underscored: true,\n        timestamps: false,\n        indexes: [\n          {\n            name: \"recent_listens_pkey\",\n            unique: true,\n            fields: [{ name: \"id\" }],\n          },\n        ],\n      }\n    );\n    return recent_listens;\n  }\n}\n", "import * as Sequelize from \"sequelize\";\nimport { DataTypes, Model, Optional } from \"sequelize\";\n\nexport interface songsAttributes {\n  id: string;\n  spotify_id?: string;\n  album_id?: string;\n  artist_id?: string;\n  name?: string;\n  created_at?: Date;\n  updated_at?: Date;\n}\n\nexport type songsPk = \"id\";\nexport type songsId = songs[songsPk];\nexport type songsCreationAttributes = Optional<songsAttributes, songsPk>;\n\nexport class songs\n  extends Model<songsAttributes, songsCreationAttributes>\n  implements songsAttributes\n{\n  id!: string;\n  spotify_id?: string;\n  album_id?: string;\n  artist_id?: string;\n  name?: string;\n  created_at?: Date;\n  updated_at?: Date;\n\n  static initModel(sequelize: Sequelize.Sequelize): typeof songs {\n    songs.init(\n      {\n        id: {\n          type: DataTypes.TEXT,\n          allowNull: false,\n          primaryKey: true,\n        },\n        spotify_id: {\n          type: DataTypes.TEXT,\n          allowNull: true,\n        },\n        album_id: {\n          type: DataTypes.TEXT,\n          allowNull: true,\n        },\n        artist_id: {\n          type: DataTypes.TEXT,\n          allowNull: true,\n        },\n        name: {\n          type: DataTypes.TEXT,\n          allowNull: true,\n        },\n        created_at: {\n          type: DataTypes.DATE,\n          allowNull: true,\n        },\n        updated_at: {\n          type: DataTypes.DATE,\n          allowNull: true,\n        },\n      },\n      {\n        sequelize,\n        tableName: \"songs\",\n        schema: \"public\",\n        underscored: true,\n        timestamps: false,\n        indexes: [\n          {\n            name: \"songs_pkey\",\n            unique: true,\n            fields: [{ name: \"id\" }],\n          },\n        ],\n      }\n    );\n    return songs;\n  }\n}\n", "import * as Sequelize from \"sequelize\";\nimport { DataTypes, Model, Optional } from \"sequelize\";\n\nexport interface thumbnailsAttributes {\n  id: string;\n  entity?: string;\n  entity_id?: string;\n  width?: number;\n  height?: number;\n  url?: string;\n  created_at?: Date;\n  updated_at?: Date;\n}\n\nexport type thumbnailsPk = \"id\";\nexport type thumbnailsId = thumbnails[thumbnailsPk];\nexport type thumbnailsCreationAttributes = Optional<\n  thumbnailsAttributes,\n  thumbnailsPk\n>;\n\nexport class thumbnails\n  extends Model<thumbnailsAttributes, thumbnailsCreationAttributes>\n  implements thumbnailsAttributes\n{\n  id!: string;\n  entity?: string;\n  entity_id?: string;\n  width?: number;\n  height?: number;\n  url?: string;\n  created_at?: Date;\n  updated_at?: Date;\n\n  static initModel(sequelize: Sequelize.Sequelize): typeof thumbnails {\n    thumbnails.init(\n      {\n        id: {\n          type: DataTypes.TEXT,\n          allowNull: false,\n          primaryKey: true,\n        },\n        entity: {\n          type: DataTypes.TEXT,\n          allowNull: true,\n        },\n        entity_id: {\n          type: DataTypes.TEXT,\n          allowNull: true,\n        },\n        width: {\n          type: DataTypes.SMALLINT,\n          allowNull: true,\n        },\n        height: {\n          type: DataTypes.SMALLINT,\n          allowNull: true,\n        },\n        url: {\n          type: DataTypes.TEXT,\n          allowNull: true,\n        },\n        created_at: {\n          type: DataTypes.DATE,\n          allowNull: true,\n        },\n        updated_at: {\n          type: DataTypes.DATE,\n          allowNull: true,\n        },\n      },\n      {\n        sequelize,\n        tableName: \"thumbnails\",\n        schema: \"public\",\n        underscored: true,\n        timestamps: false,\n        indexes: [\n          {\n            name: \"thumbnails_pkey\",\n            unique: true,\n            fields: [{ name: \"id\" }],\n          },\n        ],\n      }\n    );\n    return thumbnails;\n  }\n}\n", "import * as Sequelize from \"sequelize\";\nimport { DataTypes, Model, Optional } from \"sequelize\";\n\nexport interface top_artist_dataAttributes {\n  id: string;\n  artist_id?: string;\n  top_artist_id?: string;\n  time_period?: string;\n  order?: number;\n  created_at?: Date;\n  updated_at?: Date;\n}\n\nexport type top_artist_dataPk = \"id\";\nexport type top_artist_dataId = top_artist_data[top_artist_dataPk];\nexport type top_artist_dataCreationAttributes = Optional<\n  top_artist_dataAttributes,\n  top_artist_dataPk\n>;\n\nexport class top_artist_data\n  extends Model<top_artist_dataAttributes, top_artist_dataCreationAttributes>\n  implements top_artist_dataAttributes\n{\n  id!: string;\n  artist_id?: string;\n  top_artist_id?: string;\n  time_period?: string;\n  order?: number;\n  created_at?: Date;\n  updated_at?: Date;\n\n  static initModel(sequelize: Sequelize.Sequelize): typeof top_artist_data {\n    top_artist_data.init(\n      {\n        id: {\n          type: DataTypes.TEXT,\n          allowNull: false,\n          primaryKey: true,\n        },\n        artist_id: {\n          type: DataTypes.TEXT,\n          allowNull: true,\n        },\n        top_artist_id: {\n          type: DataTypes.TEXT,\n          allowNull: true,\n        },\n        time_period: {\n          type: DataTypes.TEXT,\n          allowNull: true,\n        },\n        order: {\n          type: DataTypes.INTEGER,\n          allowNull: true,\n        },\n        created_at: {\n          type: DataTypes.DATE,\n          allowNull: true,\n        },\n        updated_at: {\n          type: DataTypes.DATE,\n          allowNull: true,\n        },\n      },\n      {\n        sequelize,\n        tableName: \"top_artist_data\",\n        schema: \"public\",\n        timestamps: false,\n        underscored: true,\n        indexes: [\n          {\n            name: \"top_artist_data_pkey\",\n            unique: true,\n            fields: [{ name: \"id\" }],\n          },\n        ],\n      }\n    );\n    return top_artist_data;\n  }\n}\n", "import * as Sequelize from \"sequelize\";\nimport { DataTypes, Model, Optional } from \"sequelize\";\n\nexport interface top_artistsAttributes {\n  id: string;\n  user_id?: string;\n  created_at?: Date;\n  updated_at?: Date;\n}\n\nexport type top_artistsPk = \"id\";\nexport type top_artistsId = top_artists[top_artistsPk];\nexport type top_artistsCreationAttributes = Optional<\n  top_artistsAttributes,\n  top_artistsPk\n>;\n\nexport class top_artists\n  extends Model<top_artistsAttributes, top_artistsCreationAttributes>\n  implements top_artistsAttributes\n{\n  id!: string;\n  user_id?: string;\n  created_at?: Date;\n  updated_at?: Date;\n\n  static initModel(sequelize: Sequelize.Sequelize): typeof top_artists {\n    top_artists.init(\n      {\n        id: {\n          type: DataTypes.TEXT,\n          allowNull: false,\n          primaryKey: true,\n        },\n        user_id: {\n          type: DataTypes.TEXT,\n          allowNull: true,\n        },\n        created_at: {\n          type: DataTypes.DATE,\n          allowNull: true,\n        },\n        updated_at: {\n          type: DataTypes.DATE,\n          allowNull: true,\n        },\n      },\n      {\n        sequelize,\n        tableName: \"top_artists\",\n        schema: \"public\",\n        underscored: true,\n        timestamps: false,\n        indexes: [\n          {\n            name: \"top_artists_pkey\",\n            unique: true,\n            fields: [{ name: \"id\" }],\n          },\n        ],\n      }\n    );\n    return top_artists;\n  }\n}\n", "import * as Sequelize from \"sequelize\";\nimport { DataTypes, Model, Optional } from \"sequelize\";\n\nexport interface top_song_dataAttributes {\n  id: string;\n  song_id?: string;\n  top_song_id?: string;\n  order?: number;\n  time_period?: string;\n  created_at?: Date;\n  updated_at?: Date;\n}\n\nexport type top_song_dataPk = \"id\";\nexport type top_song_dataId = top_song_data[top_song_dataPk];\nexport type top_song_dataCreationAttributes = Optional<\n  top_song_dataAttributes,\n  top_song_dataPk\n>;\n\nexport class top_song_data\n  extends Model<top_song_dataAttributes, top_song_dataCreationAttributes>\n  implements top_song_dataAttributes\n{\n  id!: string;\n  song_id?: string;\n  top_song_id?: string;\n  order?: number;\n  time_period?: string;\n  created_at?: Date;\n  updated_at?: Date;\n\n  static initModel(sequelize: Sequelize.Sequelize): typeof top_song_data {\n    top_song_data.init(\n      {\n        id: {\n          type: DataTypes.TEXT,\n          allowNull: false,\n          primaryKey: true,\n        },\n        song_id: {\n          type: DataTypes.TEXT,\n          allowNull: true,\n        },\n        top_song_id: {\n          type: DataTypes.TEXT,\n          allowNull: true,\n        },\n        order: {\n          type: DataTypes.INTEGER,\n          allowNull: true,\n        },\n        time_period: {\n          type: DataTypes.TEXT,\n          allowNull: true,\n        },\n        created_at: {\n          type: DataTypes.DATE,\n          allowNull: true,\n        },\n        updated_at: {\n          type: DataTypes.DATE,\n          allowNull: true,\n        },\n      },\n      {\n        sequelize,\n        tableName: \"top_song_data\",\n        schema: \"public\",\n        underscored: true,\n        timestamps: false,\n        indexes: [\n          {\n            name: \"top_song_data_pkey\",\n            unique: true,\n            fields: [{ name: \"id\" }],\n          },\n        ],\n      }\n    );\n    return top_song_data;\n  }\n}\n", "import * as Sequelize from \"sequelize\";\nimport { DataTypes, Model, Optional } from \"sequelize\";\n\nexport interface top_songsAttributes {\n  id: string;\n  user_id?: string;\n  created_at?: Date;\n  updated_at?: Date;\n}\n\nexport type top_songsPk = \"id\";\nexport type top_songsId = top_songs[top_songsPk];\nexport type top_songsCreationAttributes = Optional<\n  top_songsAttributes,\n  top_songsPk\n>;\n\nexport class top_songs\n  extends Model<top_songsAttributes, top_songsCreationAttributes>\n  implements top_songsAttributes\n{\n  id!: string;\n  user_id?: string;\n  created_at?: Date;\n  updated_at?: Date;\n\n  static initModel(sequelize: Sequelize.Sequelize): typeof top_songs {\n    top_songs.init(\n      {\n        id: {\n          type: DataTypes.TEXT,\n          allowNull: false,\n          primaryKey: true,\n        },\n        user_id: {\n          type: DataTypes.TEXT,\n          allowNull: true,\n        },\n        created_at: {\n          type: DataTypes.DATE,\n          allowNull: true,\n        },\n        updated_at: {\n          type: DataTypes.DATE,\n          allowNull: true,\n        },\n      },\n      {\n        sequelize,\n        tableName: \"top_songs\",\n        schema: \"public\",\n        underscored: true,\n        timestamps: false,\n        indexes: [\n          {\n            name: \"top_songs_pkey\",\n            unique: true,\n            fields: [{ name: \"id\" }],\n          },\n        ],\n      }\n    );\n    return top_songs;\n  }\n}\n", "import * as Sequelize from \"sequelize\";\nimport { DataTypes, Model, Optional } from \"sequelize\";\n\nexport interface usersAttributes {\n  id: string;\n  spotify_id?: string;\n  username?: string;\n  password?: string;\n  created_at?: Date;\n  updated_at?: Date;\n}\n\nexport type usersPk = \"id\";\nexport type usersId = users[usersPk];\nexport type usersCreationAttributes = Optional<usersAttributes, usersPk>;\n\nexport class users\n  extends Model<usersAttributes, usersCreationAttributes>\n  implements usersAttributes\n{\n  id!: string;\n  spotify_id?: string;\n  username?: string;\n  password?: string;\n  created_at?: Date;\n  updated_at?: Date;\n\n  static initModel(sequelize: Sequelize.Sequelize): typeof users {\n    users.init(\n      {\n        id: {\n          type: DataTypes.TEXT,\n          allowNull: false,\n          primaryKey: true,\n        },\n        spotify_id: {\n          type: DataTypes.TEXT,\n          allowNull: true,\n        },\n        username: {\n          type: DataTypes.TEXT,\n          allowNull: true,\n        },\n        password: {\n          type: DataTypes.TEXT,\n          allowNull: true,\n        },\n        created_at: {\n          type: DataTypes.DATE,\n          allowNull: true,\n        },\n        updated_at: {\n          type: DataTypes.DATE,\n          allowNull: true,\n        },\n      },\n      {\n        sequelize,\n        tableName: \"users\",\n        schema: \"public\",\n        underscored: true,\n        timestamps: false,\n        indexes: [\n          {\n            name: \"users_pkey\",\n            unique: true,\n            fields: [{ name: \"id\" }],\n          },\n        ],\n      }\n    );\n    return users;\n  }\n}\n", "import type { Sequelize, Model } from \"sequelize\";\nimport { albums } from \"./albums\";\nimport type { albumsAttributes, albumsCreationAttributes } from \"./albums\";\nimport { artists } from \"./artists\";\nimport type { artistsAttributes, artistsCreationAttributes } from \"./artists\";\nimport { recent_listen_data } from \"./recent_listen_data\";\nimport type {\n  recent_listen_dataAttributes,\n  recent_listen_dataCreationAttributes,\n} from \"./recent_listen_data\";\nimport { recent_listens } from \"./recent_listens\";\nimport type {\n  recent_listensAttributes,\n  recent_listensCreationAttributes,\n} from \"./recent_listens\";\nimport { songs } from \"./songs\";\nimport type { songsAttributes, songsCreationAttributes } from \"./songs\";\nimport { thumbnails } from \"./thumbnails\";\nimport type {\n  thumbnailsAttributes,\n  thumbnailsCreationAttributes,\n} from \"./thumbnails\";\nimport { top_artist_data } from \"./top_artist_data\";\nimport type {\n  top_artist_dataAttributes,\n  top_artist_dataCreationAttributes,\n} from \"./top_artist_data\";\nimport { top_artists } from \"./top_artists\";\nimport type {\n  top_artistsAttributes,\n  top_artistsCreationAttributes,\n} from \"./top_artists\";\nimport { top_song_data } from \"./top_song_data\";\nimport type {\n  top_song_dataAttributes,\n  top_song_dataCreationAttributes,\n} from \"./top_song_data\";\nimport { top_songs } from \"./top_songs\";\nimport type {\n  top_songsAttributes,\n  top_songsCreationAttributes,\n} from \"./top_songs\";\nimport { users } from \"./users\";\nimport type { usersAttributes, usersCreationAttributes } from \"./users\";\n\nexport {\n  albums,\n  artists,\n  recent_listen_data,\n  recent_listens,\n  songs,\n  thumbnails,\n  top_artist_data,\n  top_artists,\n  top_song_data,\n  top_songs,\n  users,\n};\n\nexport type {\n  albumsAttributes,\n  albumsCreationAttributes,\n  artistsAttributes,\n  artistsCreationAttributes,\n  recent_listen_dataAttributes,\n  recent_listen_dataCreationAttributes,\n  recent_listensAttributes,\n  recent_listensCreationAttributes,\n  songsAttributes,\n  songsCreationAttributes,\n  thumbnailsAttributes,\n  thumbnailsCreationAttributes,\n  top_artist_dataAttributes,\n  top_artist_dataCreationAttributes,\n  top_artistsAttributes,\n  top_artistsCreationAttributes,\n  top_song_dataAttributes,\n  top_song_dataCreationAttributes,\n  top_songsAttributes,\n  top_songsCreationAttributes,\n  usersAttributes,\n  usersCreationAttributes,\n};\n\nexport function initModels(sequelize: Sequelize) {\n  albums.initModel(sequelize);\n  artists.initModel(sequelize);\n  recent_listen_data.initModel(sequelize);\n  recent_listens.initModel(sequelize);\n  songs.initModel(sequelize);\n  thumbnails.initModel(sequelize);\n  top_artist_data.initModel(sequelize);\n  top_artists.initModel(sequelize);\n  top_song_data.initModel(sequelize);\n  top_songs.initModel(sequelize);\n  users.initModel(sequelize);\n\n  // albums\n  albums.hasMany(thumbnails, {\n    foreignKey: \"entity_id\",\n    constraints: false,\n    scope: {\n      entity: \"album\",\n    },\n  });\n  albums.belongsTo(artists);\n\n  //artists\n  artists.hasMany(thumbnails, {\n    foreignKey: \"entity_id\",\n    constraints: false,\n    scope: {\n      entity: \"artist\",\n    },\n  });\n  artists.hasOne(albums);\n\n  // thumbnails\n  thumbnails.belongsTo(artists, {\n    foreignKey: \"entity_id\",\n    constraints: false,\n  });\n  thumbnails.belongsTo(albums, { foreignKey: \"entity_id\", constraints: false });\n\n  //songs\n  songs.belongsTo(artists);\n  songs.belongsTo(albums);\n\n  return {\n    albums: albums,\n    artists: artists,\n    recent_listen_data: recent_listen_data,\n    recent_listens: recent_listens,\n    songs: songs,\n    thumbnails: thumbnails,\n    top_artist_data: top_artist_data,\n    top_artists: top_artists,\n    top_song_data: top_song_data,\n    top_songs: top_songs,\n    users: users,\n  };\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,yBAA4C;AAE5C,MAAI;AAEJ,MAAM,cAAc,CAAC,eAAuB;AAC1C,QAAI,CAAC,UAAU;AACb,iBAAW,IAAI,2BAAU;AAAA;AAAA;;;ACL7B,uBAA+B;;;ACA/B,0BAA2C;AAgBpC,6BACG,wBAEV;AAAA,WAQS,UAAU,WAA+C;AAC9D,aAAO,KACL;AAAA,QACE,IAAI;AAAA,UACF,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA,UACX,YAAY;AAAA;AAAA,QAEd,MAAM;AAAA,UACJ,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,YAAY;AAAA,UACV,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,WAAW;AAAA,UACT,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,YAAY;AAAA,UACV,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,YAAY;AAAA,UACV,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,SAGf;AAAA,QACE;AAAA,QACA,WAAW;AAAA,QACX,QAAQ;AAAA,QACR,aAAa;AAAA,QACb,YAAY;AAAA,QACZ,SAAS;AAAA,UACP;AAAA,YACE,MAAM;AAAA,YACN,QAAQ;AAAA,YACR,QAAQ,CAAC,CAAE,MAAM;AAAA;AAAA;AAAA;AAKzB,aAAO;AAAA;AAAA;;;ACvEX,0BAA2C;AAcpC,8BACG,wBAEV;AAAA,WAOS,UAAU,WAAgD;AAC/D,cAAQ,KACN;AAAA,QACE,IAAI;AAAA,UACF,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA,UACX,YAAY;AAAA;AAAA,QAEd,MAAM;AAAA,UACJ,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,YAAY;AAAA,UACV,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,YAAY;AAAA,UACV,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,YAAY;AAAA,UACV,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,SAGf;AAAA,QACE;AAAA,QACA,WAAW;AAAA,QACX,QAAQ;AAAA,QACR,aAAa;AAAA,QACb,YAAY;AAAA,QACZ,SAAS;AAAA,UACP;AAAA,YACE,MAAM;AAAA,YACN,QAAQ;AAAA,YACR,QAAQ,CAAC,CAAE,MAAM;AAAA;AAAA;AAAA;AAKzB,aAAO;AAAA;AAAA;;;AChEX,0BAA2C;AAkBpC,yCACG,wBAKV;AAAA,WAQS,UAAU,WAA2D;AAC1E,yBAAmB,KACjB;AAAA,QACE,IAAI;AAAA,UACF,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA,UACX,YAAY;AAAA;AAAA,QAEd,SAAS;AAAA,UACP,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,kBAAkB;AAAA,UAChB,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,WAAW;AAAA,UACT,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,YAAY;AAAA,UACV,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,YAAY;AAAA,UACV,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,SAGf;AAAA,QACE;AAAA,QACA,WAAW;AAAA,QACX,QAAQ;AAAA,QACR,aAAa;AAAA,QACb,YAAY;AAAA,QACZ,SAAS;AAAA,UACP;AAAA,YACE,MAAM;AAAA,YACN,QAAQ;AAAA,YACR,QAAQ,CAAC,CAAE,MAAM;AAAA;AAAA;AAAA;AAKzB,aAAO;AAAA;AAAA;;;AC5EX,0BAA2C;AAgBpC,qCACG,wBAEV;AAAA,WAMS,UAAU,WAAuD;AACtE,qBAAe,KACb;AAAA,QACE,IAAI;AAAA,UACF,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA,UACX,YAAY;AAAA;AAAA,QAEd,SAAS;AAAA,UACP,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,YAAY;AAAA,UACV,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,YAAY;AAAA,UACV,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,SAGf;AAAA,QACE;AAAA,QACA,WAAW;AAAA,QACX,QAAQ;AAAA,QACR,aAAa;AAAA,QACb,YAAY;AAAA,QACZ,SAAS;AAAA,UACP;AAAA,YACE,MAAM;AAAA,YACN,QAAQ;AAAA,YACR,QAAQ,CAAC,CAAE,MAAM;AAAA;AAAA;AAAA;AAKzB,aAAO;AAAA;AAAA;;;AC7DX,0BAA2C;AAgBpC,4BACG,wBAEV;AAAA,WASS,UAAU,WAA8C;AAC7D,YAAM,KACJ;AAAA,QACE,IAAI;AAAA,UACF,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA,UACX,YAAY;AAAA;AAAA,QAEd,YAAY;AAAA,UACV,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,UAAU;AAAA,UACR,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,WAAW;AAAA,UACT,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,MAAM;AAAA,UACJ,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,YAAY;AAAA,UACV,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,YAAY;AAAA,UACV,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,SAGf;AAAA,QACE;AAAA,QACA,WAAW;AAAA,QACX,QAAQ;AAAA,QACR,aAAa;AAAA,QACb,YAAY;AAAA,QACZ,SAAS;AAAA,UACP;AAAA,YACE,MAAM;AAAA,YACN,QAAQ;AAAA,YACR,QAAQ,CAAC,CAAE,MAAM;AAAA;AAAA;AAAA;AAKzB,aAAO;AAAA;AAAA;;;AC5EX,0BAA2C;AAoBpC,iCACG,wBAEV;AAAA,WAUS,UAAU,WAAmD;AAClE,iBAAW,KACT;AAAA,QACE,IAAI;AAAA,UACF,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA,UACX,YAAY;AAAA;AAAA,QAEd,QAAQ;AAAA,UACN,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,WAAW;AAAA,UACT,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,OAAO;AAAA,UACL,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,QAAQ;AAAA,UACN,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,KAAK;AAAA,UACH,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,YAAY;AAAA,UACV,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,YAAY;AAAA,UACV,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,SAGf;AAAA,QACE;AAAA,QACA,WAAW;AAAA,QACX,QAAQ;AAAA,QACR,aAAa;AAAA,QACb,YAAY;AAAA,QACZ,SAAS;AAAA,UACP;AAAA,YACE,MAAM;AAAA,YACN,QAAQ;AAAA,YACR,QAAQ,CAAC,CAAE,MAAM;AAAA;AAAA;AAAA;AAKzB,aAAO;AAAA;AAAA;;;ACrFX,0BAA2C;AAmBpC,sCACG,wBAEV;AAAA,WASS,UAAU,WAAwD;AACvE,sBAAgB,KACd;AAAA,QACE,IAAI;AAAA,UACF,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA,UACX,YAAY;AAAA;AAAA,QAEd,WAAW;AAAA,UACT,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,eAAe;AAAA,UACb,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,aAAa;AAAA,UACX,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,OAAO;AAAA,UACL,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,YAAY;AAAA,UACV,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,YAAY;AAAA,UACV,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,SAGf;AAAA,QACE;AAAA,QACA,WAAW;AAAA,QACX,QAAQ;AAAA,QACR,YAAY;AAAA,QACZ,aAAa;AAAA,QACb,SAAS;AAAA,UACP;AAAA,YACE,MAAM;AAAA,YACN,QAAQ;AAAA,YACR,QAAQ,CAAC,CAAE,MAAM;AAAA;AAAA;AAAA;AAKzB,aAAO;AAAA;AAAA;;;AC/EX,0BAA2C;AAgBpC,kCACG,wBAEV;AAAA,WAMS,UAAU,WAAoD;AACnE,kBAAY,KACV;AAAA,QACE,IAAI;AAAA,UACF,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA,UACX,YAAY;AAAA;AAAA,QAEd,SAAS;AAAA,UACP,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,YAAY;AAAA,UACV,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,YAAY;AAAA,UACV,MAAM,4BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,SAGf;AAAA,QACE;AAAA,QACA,WAAW;AAAA,QACX,QAAQ;AAAA,QACR,aAAa;AAAA,QACb,YAAY;AAAA,QACZ,SAAS;AAAA,UACP;AAAA,YACE,MAAM;AAAA,YACN,QAAQ;AAAA,YACR,QAAQ,CAAC,CAAE,MAAM;AAAA;AAAA;AAAA;AAKzB,aAAO;AAAA;AAAA;;;AC7DX,2BAA2C;AAmBpC,oCACG,yBAEV;AAAA,WASS,UAAU,WAAsD;AACrE,oBAAc,KACZ;AAAA,QACE,IAAI;AAAA,UACF,MAAM,6BAAU;AAAA,UAChB,WAAW;AAAA,UACX,YAAY;AAAA;AAAA,QAEd,SAAS;AAAA,UACP,MAAM,6BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,aAAa;AAAA,UACX,MAAM,6BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,OAAO;AAAA,UACL,MAAM,6BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,aAAa;AAAA,UACX,MAAM,6BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,YAAY;AAAA,UACV,MAAM,6BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,YAAY;AAAA,UACV,MAAM,6BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,SAGf;AAAA,QACE;AAAA,QACA,WAAW;AAAA,QACX,QAAQ;AAAA,QACR,aAAa;AAAA,QACb,YAAY;AAAA,QACZ,SAAS;AAAA,UACP;AAAA,YACE,MAAM;AAAA,YACN,QAAQ;AAAA,YACR,QAAQ,CAAC,CAAE,MAAM;AAAA;AAAA;AAAA;AAKzB,aAAO;AAAA;AAAA;;;AC/EX,2BAA2C;AAgBpC,gCACG,yBAEV;AAAA,WAMS,UAAU,WAAkD;AACjE,gBAAU,KACR;AAAA,QACE,IAAI;AAAA,UACF,MAAM,6BAAU;AAAA,UAChB,WAAW;AAAA,UACX,YAAY;AAAA;AAAA,QAEd,SAAS;AAAA,UACP,MAAM,6BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,YAAY;AAAA,UACV,MAAM,6BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,YAAY;AAAA,UACV,MAAM,6BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,SAGf;AAAA,QACE;AAAA,QACA,WAAW;AAAA,QACX,QAAQ;AAAA,QACR,aAAa;AAAA,QACb,YAAY;AAAA,QACZ,SAAS;AAAA,UACP;AAAA,YACE,MAAM;AAAA,YACN,QAAQ;AAAA,YACR,QAAQ,CAAC,CAAE,MAAM;AAAA;AAAA;AAAA;AAKzB,aAAO;AAAA;AAAA;;;AC7DX,2BAA2C;AAepC,4BACG,yBAEV;AAAA,WAQS,UAAU,WAA8C;AAC7D,YAAM,KACJ;AAAA,QACE,IAAI;AAAA,UACF,MAAM,6BAAU;AAAA,UAChB,WAAW;AAAA,UACX,YAAY;AAAA;AAAA,QAEd,YAAY;AAAA,UACV,MAAM,6BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,UAAU;AAAA,UACR,MAAM,6BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,UAAU;AAAA,UACR,MAAM,6BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,YAAY;AAAA,UACV,MAAM,6BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,QAEb,YAAY;AAAA,UACV,MAAM,6BAAU;AAAA,UAChB,WAAW;AAAA;AAAA,SAGf;AAAA,QACE;AAAA,QACA,WAAW;AAAA,QACX,QAAQ;AAAA,QACR,aAAa;AAAA,QACb,YAAY;AAAA,QACZ,SAAS;AAAA,UACP;AAAA,YACE,MAAM;AAAA,YACN,QAAQ;AAAA,YACR,QAAQ,CAAC,CAAE,MAAM;AAAA;AAAA;AAAA;AAKzB,aAAO;AAAA;AAAA;;;ACaJ,sBAAoB,WAAsB;AAC/C,WAAO,UAAU;AACjB,YAAQ,UAAU;AAClB,uBAAmB,UAAU;AAC7B,mBAAe,UAAU;AACzB,UAAM,UAAU;AAChB,eAAW,UAAU;AACrB,oBAAgB,UAAU;AAC1B,gBAAY,UAAU;AACtB,kBAAc,UAAU;AACxB,cAAU,UAAU;AACpB,UAAM,UAAU;AAGhB,WAAO,QAAQ,YAAY;AAAA,MACzB,YAAY;AAAA,MACZ,aAAa;AAAA,MACb,OAAO;AAAA,QACL,QAAQ;AAAA;AAAA;AAGZ,WAAO,UAAU;AAGjB,YAAQ,QAAQ,YAAY;AAAA,MAC1B,YAAY;AAAA,MACZ,aAAa;AAAA,MACb,OAAO;AAAA,QACL,QAAQ;AAAA;AAAA;AAGZ,YAAQ,OAAO;AAGf,eAAW,UAAU,SAAS;AAAA,MAC5B,YAAY;AAAA,MACZ,aAAa;AAAA;AAEf,eAAW,UAAU,QAAQ,CAAE,YAAY,aAAa,aAAa;AAGrE,UAAM,UAAU;AAChB,UAAM,UAAU;AAEhB,WAAO;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAAA;;;AZxIJ,qBAWO;AACP,mBAAgB;AAEhB,MAAI,MAAM;AAEV,cAAY;AACZ,MAAI,SAAS,WAAW;AAExB,MAAM,gBAAgB,CAAC,eAAuB;AAC5C,QAAI,CAAC;AAAY,aAAO;AACxB,QAAI,QAAQ,WAAW,MAAM;AAC7B,QAAI,MAAM,WAAW;AAAG,aAAO;AAC/B,QAAI,UAAU;AACd,UAAM,QAAQ,CAAC,SAAS;AACtB,UAAI,YAAY,KAAK,MAAM;AAC3B,UAAI,cAAc;AAClB,UAAI,UAAU,WAAW;AAAG,eAAO;AACnC,gBAAU,QAAQ,CAAC,MAAM,MAAM;AAC7B,sBAAc,4BACZ,IAAI,MAAM,GAAG,KAAK,GAAG,IAAI,CAAC,OAAM,YAChC,CAAE,OAAO,OAAO,UAAU,MAC1B;AAAA;AAGJ,cAAQ,KAAK;AAAA;AAEf,WAAO,CAAE;AAAA;AAGX,MAAM,SAAS,mBAAI,OAAO;AAAA,IACxB,OAAO,mBAAI;AAAA,IACX,QAAQ,mBAAI;AAAA,IACZ,OAAO,mBAAI,QAAQ,MAAM,mBAAI,SAAS,MAAM,GAAG,OAAO,KAAK;AAAA;AAG7D,SAAO,KAAK,QAAQ,QAAQ,CAAC,QAAQ;AACnC,QAAI,IAAI,IAAI,OAAO,OAAO,KAAK,QAAQ;AACrC,YAAM,QAAQ,IAAI,MAAM,QACpB,yBACG,IAAI,MAAM,MAAiB,MAAM,KAAK,IAAI,CAAC,SAAS,KAAK,MAAM,SAElE;AAEJ,cAAQ,IAAI;AAEZ,YAAM,CAAE,OAAO,WAAY,OAAO,SAAS,iCACtC,uBAAK,CAAC,UAAU,IAAI,SADkB;AAAA,QAEzC;AAAA;AAGF,UAAI,OAAO;AACT,YAAI,KAAK;AACT;AAAA;AAGF,cAAQ,IAAI,cAAc,IAAI,MAAM;AAEpC,UAAI,QAAQ,MAAM,OAAO,KAAK,QAAQ,kCACjC,uBAAK,CAAC,SAAS,WAAW,IAAI,SAE9B,cAAc,IAAI,MAAM;AAG7B,UAAI,KAAK;AAAA;AAAA;AAIb,MAAI,OAAO,KAAM;",
  "names": []
}
